<view class="container">
  <view class="header">
    <view class="page-title">æˆ‘çš„</view>
    <view class="role-badge">{{roles[0].name}}</view>
  </view>

  <view class="glass-card profile-card">
    <view class="avatar">
      <open-data type="userAvatarUrl"></open-data>
    </view>
    <view class="info">
      <open-data type="userNickName" class="nickname"></open-data>
      <view class="current-role">å½“å‰èº«ä»½: {{role === 'student' ? 'å­¦ç”Ÿ' : (role === 'parent' ? 'å®¶é•¿' : 'ç®¡ç†å‘˜')}}</view>
    </view>
  </view>

  <view class="section-title">èº«ä»½åˆ‡æ¢</view>
  <view class="role-grid">
    <view 
      class="glass-card role-item {{role === item.id ? 'active' : ''}}" 
      wx:for="{{roles}}" 
      wx:key="id" 
      bindtap="switchRole" 
      data-role="{{item.id}}"
    >
      <view class="role-icon">{{item.icon}}</view>
      <view class="role-name">{{item.name}}</view>
      <view class="role-desc">{{item.desc}}</view>
      <view class="check-mark" wx:if="{{role === item.id}}">âœ“</view>
    </view>
  </view>

  <block wx:if="{{role === 'admin'}}">
    <view class="section-title">ç®¡ç†å·¥å…·</view>
    <view class="glass-card admin-tools">
      <view class="tool-row" bindtap="exportData">
        <text>ğŸ“¤ å¯¼å‡ºæ‰€æœ‰æ•°æ® (SQLite)</text>
        <text class="arrow">></text>
      </view>
      <view class="divider"></view>
      <view class="tool-row danger" bindtap="clearStorage">
        <text>ğŸ—‘ æ¸…ç©ºæœ¬åœ°ç¼“å­˜</text>
        <text class="arrow">></text>
      </view>
    </view>
  </block>

  <view class="footer-info">
    <text>Focus Homework v1.0.0</text>
  </view>
</view>